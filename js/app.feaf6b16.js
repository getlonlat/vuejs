(function(t){function s(s){for(var a,o,i=s[0],c=s[1],l=s[2],u=0,p=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(s);while(p.length)p.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],a=!0,i=1;i<e.length;i++){var c=e[i];0!==r[c]&&(a=!1)}a&&(n.splice(s--,1),t=o(o.s=e[0]))}return t}var a={},r={app:0},n=[];function o(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=a,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)o.d(e,a,function(s){return t[s]}.bind(null,a));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="/vuejs/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=s,i=i.slice();for(var l=0;l<i.length;l++)s(i[l]);var d=c;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"1a6e":function(t,s,e){t.exports=e.p+"img/target.f19372b2.png"},"56d7":function(t,s,e){"use strict";e.r(s);e("cadf"),e("551c"),e("f751"),e("097d");var a=e("2b0e"),r=function(){var t=this,s=t._self._c;return s("div",[s("app-header",{staticClass:"mb-3"}),s("div",{staticClass:"container-fluid"},[s("app-map")],1)],1)},n=[],o=function(){var t=this;t._self._c;return t._m(0)},i=[function(){var t=this,s=t._self._c;return s("nav",{staticClass:"navbar bg-light"},[s("div",{staticClass:"container-fluid"},[s("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[s("img",{staticClass:"d-inline-block align-text-top",attrs:{src:e("1a6e"),alt:""}}),t._v(" getLonLat ")])])])}],c=e("2877"),l={},d=Object(c["a"])(l,o,i,!1,null,null,null),u=d.exports,p=function(){var t=this,s=t._self._c;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"card mb-3"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{},[t._v("Longitude")]),s("div",{staticClass:"input-group"},[s("label",{staticClass:"input-group-text"},[t._v("X")]),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Longitude"},domProps:{value:t.markerPosition.lng}}),s("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return t.markerPosition.lng},expression:"() => markerPosition.lng"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"}],staticClass:"btn btn-outline-secondary"},[t._m(0)])])])]),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"mb-3"},[s("label",{},[t._v("Latitude")]),s("div",{staticClass:"input-group"},[s("span",{staticClass:"input-group-text"},[t._v("Y")]),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Latitude"},domProps:{value:t.markerPosition.lat}}),s("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return t.markerPosition.lat},expression:"() => markerPosition.lat"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"}],staticClass:"btn btn-outline-secondary",attrs:{title:"Click to copy"}},[t._m(1)])])])])]),s("div",{staticClass:"mb-3"},[s("div",{staticClass:"input-group"},[s("label",{staticClass:"input-group-text",attrs:{for:"hash"}},[t._v("Geohash")]),s("input",{staticClass:"form-control",attrs:{id:"hash",type:"text",placeholder:"Geohash"},domProps:{value:t.hash}}),s("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return t.hash},expression:"() => hash"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"}],staticClass:"btn btn-outline-secondary"},[t._m(2)])])]),t.address?s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"address"}},[t._v("Address")]),s("div",{staticClass:"input-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",attrs:{rows:"2"},domProps:{value:t.address},on:{input:function(s){s.target.composing||(t.address=s.target.value)}}}),t._v(" "),s("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return t.address},expression:"() => address"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"}],staticClass:"btn btn-outline-secondary"},[t._m(3)])])]):t._e()])]),s("app-history")],1),s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"card"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-8"},[s("app-search-address")],1),s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Toolbar"}},[s("button",{staticClass:"btn btn-sm btn-outline-primary",on:{click:t.updatePosition}},[t._v(" USE GEOLOCATION ")]),s("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:t.dropMarker}},[t._v(" DROP MARKER ")])])])])]),s("div",{staticClass:"card-image"},[s("gmap-map",{ref:"gmap",staticClass:"map",attrs:{center:t.mapCenter,zoom:t.zoom}},[s("gmap-marker",{attrs:{position:t.markerPosition,clickable:!0,draggable:!0},on:{dragend:t.dragEnd}})],1)],1)])])])},f=[function(){var t=this,s=t._self._c;return s("span",{staticClass:"icon"},[s("i",{staticClass:"far fa-copy"})])},function(){var t=this,s=t._self._c;return s("span",{staticClass:"icon"},[s("i",{staticClass:"far fa-copy"})])},function(){var t=this,s=t._self._c;return s("span",{staticClass:"icon"},[s("i",{staticClass:"far fa-copy"})])},function(){var t=this,s=t._self._c;return s("span",{staticClass:"icon"},[s("i",{staticClass:"far fa-copy"})])}],m=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"card-body"},[s("div",{staticClass:"input-group"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:"Start typing to search for address"},domProps:{value:t.query},on:{keyup:t.searchAddress,input:function(s){s.target.composing||(t.query=s.target.value)}}})])]),t.addresses.length>0?s("div",{staticClass:"card-body search-address-results"},[s("div",{staticClass:"list-group"},[t._l(t.addresses,(function(e){return s("a",{key:e.place_id,staticClass:"list-group-item",on:{click:function(s){return t.selectAddress(e)}}},[t._v(" "+t._s(e.formatted_address)+" ")])})),s("div",{staticClass:"list-group-item",on:{click:t.clearSearch}},[t._v("clear search")])],2)]):t._e()])},h=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"input-group-text"},[s("i",{staticClass:"fas fa-search",attrs:{"aria-hidden":"true"}})])}],v=e("bc3a"),g=e.n(v),b={data:function(){return{query:"",addresses:[],timer:null}},computed:{zoom:function(){return this.$store.getters.zoom}},methods:{searchAddress:function(){var t=this;if(this.timer&&(clearTimeout(this.timer),this.timer=null),this.query){var s={address:this.query,sensor:!1,key:"AIzaSyCoYD6ejFU6kjVpKI4yjf3O0MDjz0M4sVA"};this.timer=setTimeout((function(){g.a.get("https://maps.googleapis.com/maps/api/geocode/json",{params:s}).then((function(t){return t.data})).then((function(s){t.addresses=s.results}))}),500)}},selectAddress:function(t){var s={lat:t.geometry.location.lat,lng:t.geometry.location.lng};this.$store.dispatch("setZoom",15),this.$store.dispatch("setLatLng",s),this.$store.dispatch("addToHistory",t)},clearSearch:function(){this.query="",this.addresses=[]}}},C=b,_=(e("ee8a"),Object(c["a"])(C,m,h,!1,null,null,null)),y=_.exports,S=function(){var t=this,s=t._self._c;return t.addressHistory.length>0?s("div",[s("div",{staticClass:"input-group mb-1"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Filter search history"},domProps:{value:t.query},on:{input:function(s){s.target.composing||(t.query=s.target.value)}}})]),s("nav",{staticClass:"list-group mb-3"},[t._l(t.addressHistory,(function(e){return s("div",{key:e.place_id,staticClass:"list-group-item"},[s("span",{staticClass:"text-danger",attrs:{title:"Click to exclude address from history"},on:{click:function(s){return t.deleteAddress(e)}}},[s("i",{staticClass:"fas fa-trash-alt"})]),s("span",{on:{click:function(s){return t.selectAddress(e)}}},[t._v(" "+t._s(e.formatted_address)+" ")])])})),0==t.addressHistory.length?s("div",{staticClass:"list-group-item"},[s("small",[t._v(" Select some address to show here. ")])]):t._e(),t.addressHistory.length>0?s("div",{staticClass:"list-group-item"},[s("button",{staticClass:"btn btn-sm btn-outline-danger",on:{click:t.clearHistory}},[t._v(" Clear history ")])]):t._e()],2)]):t._e()},A=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"input-group-text"},[s("i",{staticClass:"fas fa-search",attrs:{"aria-hidden":"true"}})])}],O={data:function(){return{query:""}},computed:{addressHistory:function(){var t=this;return this.$store.getters.addressHistory.filter((function(s){return s.formatted_address.toLowerCase().indexOf(t.query.toLowerCase())>-1}))}},methods:{selectAddress:function(t){var s={lat:t.geometry.location.lat,lng:t.geometry.location.lng};this.$store.dispatch("setLatLng",s)},deleteAddress:function(t){var s=this;this.$swal({title:"Remove this address?",text:t.formatted_address,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then((function(e){e.value&&s.$store.dispatch("deleteFromHistory",t)}))},clearHistory:function(){this.$store.dispatch("clearHistory")}}},w=O,H=Object(c["a"])(w,S,A,!1,null,null,null),x=H.exports,L=e("e02a"),k={data:function(){return{map:null}},computed:{zoom:function(){return this.$store.getters.zoom},address:function(){return this.$store.getters.address},mapCenter:function(){return this.$store.getters.latLng},markerPosition:function(){return this.$store.getters.latLng},hash:function(){return L.encode(this.markerPosition.lat,this.markerPosition.lng)}},methods:{updatePosition:function(){var t=this;navigator.geolocation.getCurrentPosition((function(s){var e={lat:s.coords.latitude,lng:s.coords.longitude};t.$store.dispatch("setLatLng",e),t.$store.dispatch("setZoom",15)}))},dropMarker:function(){if(this.map){var t=this.map.getCenter(),s={lat:t.lat(),lng:t.lng()};this.$store.dispatch("setLatLng",s)}},dragEnd:function(t){var s={lat:t.latLng.lat(),lng:t.latLng.lng()};this.$store.dispatch("setLatLng",s)},toggleSearchAddress:function(){this.$store.dispatch("toggleSearchAddress")},clipboardSuccessHandler:function(){this.$toasted.show("Copied to clipboard.")}},mounted:function(){var t=this;t.$refs.gmap.$mapPromise.then((function(){t.map=t.$refs.gmap.$mapObject}))},components:{appSearchAddress:y,appHistory:x}},T=k,E=(e("f65c"),Object(c["a"])(T,p,f,!1,null,null,null)),j=E.exports,P={computed:{showSearchAddress:function(){return this.$store.getters.showSearchAddress},addressHistory:function(){return this.$store.getters.addressHistory}},components:{appHeader:u,appMap:j}},$=P,N=Object(c["a"])($,r,n,!1,null,null,null),R=N.exports,D=e("4ae6"),I=e.n(D),M=e("a65d"),z=e.n(M),q=e("619c"),Y=e("2f62"),F=e("bfa9");a["a"].use(Y["a"]);var G=new F["a"]({key:"getlonlat-vue",storage:localStorage}),V={zoom:4,address:null,latLng:{lat:-8,lng:-55},addresses:[],showSearchAddress:!1,showNotification:!0},Z={zoom:function(t){return t.zoom},address:function(t){return t.address},latLng:function(t){return t.latLng},showSearchAddress:function(t){return t.showSearchAddress},addressHistory:function(t){return t.addresses},showNotification:function(t){return t.showNotification}},K={SET_ZOOM:function(t,s){t.zoom=s},SET_ADDRESS:function(t,s){t.address=s},SET_LATLNG:function(t,s){t.latLng=s},TOGGLE_SEARCH_ADDRESS:function(t){t.showSearchAddress=!t.showSearchAddress},ADD_SEARCH_TO_HISTORY:function(t,s){t.addresses.push(s)},DELETE_FROM_HISTORY:function(t,s){t.addresses=t.addresses.filter((function(t){return t.place_id!=s.place_id}))},CLEAR_SEARCH_HISTORY:function(t){t.addresses=[]},HIDE_NOTIFICATION:function(t){t.showNotification=!1}},U={setZoom:function(t,s){var e=t.commit;e("SET_ZOOM",s)},setLatLng:function(t,s){var e=t.commit;e("SET_LATLNG",s);var a={key:"AIzaSyCoYD6ejFU6kjVpKI4yjf3O0MDjz0M4sVA",latlng:"".concat(s.lat,",").concat(s.lng),sensor:!1};g.a.get("https://maps.googleapis.com/maps/api/geocode/json",{params:a}).then((function(t){if(t.data.results[0]){var s=t.data.results[0].formatted_address;e("SET_ADDRESS",s)}}))},toggleSearchAddress:function(t){var s=t.commit;s("TOGGLE_SEARCH_ADDRESS")},addToHistory:function(t,s){var e=t.commit;e("ADD_SEARCH_TO_HISTORY",s)},deleteFromHistory:function(t,s){var e=t.commit;e("DELETE_FROM_HISTORY",s)},clearHistory:function(t){var s=t.commit;s("CLEAR_SEARCH_HISTORY")},hideNotification:function(t){var s=t.commit;s("HIDE_NOTIFICATION")}},B=new Y["a"].Store({state:V,getters:Z,mutations:K,actions:U,plugins:[G.plugin]}),J=e("755e");a["a"].use(I.a),a["a"].use(z.a,{position:"top-center",duration:3e3,singleton:!0}),a["a"].use(q["a"]),a["a"].use(J,{load:{key:"AIzaSyCoYD6ejFU6kjVpKI4yjf3O0MDjz0M4sVA"}}),new a["a"]({store:B,render:function(t){return t(R)},filters:{json:function(t){return JSON.stringify(t,null,2)}}}).$mount("#app")},dc24:function(t,s,e){},ee8a:function(t,s,e){"use strict";e("eec5")},eec5:function(t,s,e){},f65c:function(t,s,e){"use strict";e("dc24")}});
//# sourceMappingURL=app.feaf6b16.js.map